<link type="text/css" rel="stylesheet" href="/assets/css/reservation.css" />

<div class="overlay-bg"></div>
<div class="custom-section-wrap">
  <h1>Book</h1>
  <div class="custom-section">
    <div class="custom-sidebar">
      <div class="custom-nav" id="tabsCustom">
        <ul>
          <li [ngClass]="{'active': tab == 'flight'}">
            <a href="javascript:void(0)" (click)="setSearchParams('flight')"><em class="fa fa-plane"></em> <span>Flight</span></a>
          </li>
          <li [ngClass]="{'active': tab == 'hotel'}">
            <a href="javascript:void(0)" (click)="setSearchParams('hotel')"><em class="fa fa-hotel"></em> <span>Hotel</span></a>
          </li>
          <li [ngClass]="{'active': tab == 'car'}">
            <a href="javascript:void(0)" (click)="setSearchParams('car')"><em class="fa fa-car"></em> <span>Car</span></a>
          </li>
          <li [ngClass]="{'active': tab == 'bundle'}">
            <a href="javascript:void(0)" (click)="setSearchParams('bundle')"><em class="fa fa-home"></em> <span>Bundle</span></a>
          </li>
        </ul>
      </div>
    </div>
    <div class="custom-main">
          <div class="field-wrap-outer">
              <label>Business Profile*</label>
              <div class="field-wrap">
                  <select class="form-control" [(ngModel)]="profileTypeSelected">
                      <option value="">Select Business Profile</option>
                      <option value="{{type.value}}" *ngFor="let type of businessProfiles">{{type.text}}</option>
                  </select>
                  <span class="fa fa-user-o"></span>
              </div>
          </div>
          <div class="field-wrap-outer">
              <label>Traveler*</label>
              <div class="field-wrap">
                  <ng-autocomplete
                    [data]="departureList"
                    [searchKeyword]="keyword"
                    (selected)='selectEvent($event)'
                    (inputChanged)='getloadProfiles($event, "departure-list")'
                    (inputFocused)='onFocused($event)'
                    [itemTemplate]="itemTemplateProfiles"
                    (inputCleared)="searchCleared()"
                    [notFoundTemplate]="notFoundProfilesTemplate"
                    [debounceTime]="600"
                    [isLoading]="isLoadingResult"
                    [minQueryLength]="3"
                    placeHolder="Search Location."
                  >
                  </ng-autocomplete>

                  <ng-template #itemTemplateProfiles let-item>
                    <a href="javascript:void(0)">
                      <div class="auto-txtwrap">
                        <div class="autoicon">
                          <span class="fa" [ngClass]="{'fa-plane': item['glyph'] == 'airport', 'fa-map-marker': item['glyph'] == 'locality' }"></span>
                        </div>
                        <div class="autotxt">
                          <strong [innerHTML]="item.description"></strong><span>({{item.text}})</span>
                        </div>
                      </div>
                    </a>
                  </ng-template>

                  <ng-template #notFoundProfilesTemplate let-notFound>
                    {{errorMsg}}
                  </ng-template>
                  <div class="" *ngIf="error">
                    <label class="error">{{error.message}}</label>
                  </div>
<!--                  <input type="text" placeholder="Select Business Profile First" class="form-control">-->
<!--                  <span class="fa fa-paper-plane-o"></span>-->
              </div>
          </div>

          <div class="trip-radio-wrap">
            <div class="custom-control custom-radio custom-control-inline">
                <input type="radio" id="Roundtrip" name="trip" class="custom-control-input">
                <label class="custom-control-label" for="Roundtrip">Roundtrip</label>
            </div>
            <div class="custom-control custom-radio custom-control-inline">
                <input type="radio" id="oneWay" name="trip" class="custom-control-input">
                <label class="custom-control-label" for="oneWay">One-Way</label>
            </div>
            <div class="custom-control custom-radio custom-control-inline">
                <input type="radio" id="multiCity" name="trip" class="custom-control-input">
                <label class="custom-control-label" for="multiCity">Multi-city</label>
            </div>
        </div>

          <div class="custom-content tabs-content" id="content-1" style="display: block;">
            <div class="book-time-wrap">
              <div class="row">
                <div class="col-md-6 col-6">
                  <h3>From*</h3>
                  <div class="field-wrap-outer">
                    <div class="field-wrap">
                      <ng-autocomplete
                        [data]="departureList"
                        [searchKeyword]="keyword"
                        (selected)='selectEvent($event)'
                        (inputChanged)='getServerResponse($event, "departure-list")'
                        (inputFocused)='onFocused($event)'
                        [itemTemplate]="itemTemplateRemote"
                        (inputCleared)="searchCleared()"
                        [notFoundTemplate]="notFoundTemplate"
                        [debounceTime]="600"
                        [isLoading]="isLoadingResult"
                        [minQueryLength]="3"
                        placeHolder="Search Location."
                      >
                      </ng-autocomplete>

                      <ng-template #itemTemplateRemote let-item>
                        <a href="javascript:void(0)">
                          <div class="auto-txtwrap">
                            <div class="autoicon">
                              <span class="fa" [ngClass]="{'fa-plane': item['glyph'] == 'airport', 'fa-map-marker': item['glyph'] == 'locality' }"></span>
                            </div>
                            <div class="autotxt">
                              <strong [innerHTML]="item.description"></strong><span>({{item.text}})</span>
                            </div>
                          </div>
                        </a>
                      </ng-template>

                      <ng-template #notFoundTemplate let-notFound>
                        {{errorMsg}}
                      </ng-template>
                      <div class="" *ngIf="error">
                        <label class="error">{{error.message}}</label>
                      </div>
                    </div>
                  </div>
                </div>
                <div class="col-md-6 col-6">
                  <h3>To*</h3>
                  <div class="field-wrap-outer">
                    <div class="field-wrap time-picker-wrap">
                      <ng-autocomplete
                        [data]="arrivalList"
                        [searchKeyword]="keyword"
                        (selected)='selectEvent($event)'
                        (inputChanged)='getServerResponse($event, "arrival-list")'
                        (inputFocused)='onFocused($event)'
                        [itemTemplate]="itemTemplateRemote_"
                        (inputCleared)="searchCleared()"
                        [notFoundTemplate]="notFoundTemplate_"
                        [debounceTime]="600"
                        [isLoading]="isLoadingArrival"
                        [minQueryLength]="3"
                        placeHolder="Search Location."
                      >
                      </ng-autocomplete>

                      <ng-template #itemTemplateRemote_ let-item>
                        <a href="javascript:void(0)">
                          <div class="auto-txtwrap">
                            <div class="autoicon">
                              <span class="fa" [ngClass]="{'fa-plane': item['glyph'] == 'airport', 'fa-map-marker': item['glyph'] == 'locality' }"></span>
                            </div>
                            <div class="autotxt">
                              <strong [innerHTML]="item.description"></strong><span>({{item.text}})</span>
                            </div>
                          </div>
                        </a>
                      </ng-template>

                      <ng-template #notFoundTemplate_ let-notFound>
                        {{errorMsg}}
                      </ng-template>
                      <div class="" *ngIf="error">
                        <label class="error">{{error.message}}</label>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
              <div class="row">
                <div class="col-md-7 col-5">
                  <div class="field-wrap-outer">
                    <label>Departure*</label>
                    <div class="field-wrap">
                      <input type="text"
                             [(ngModel)]="form.dateFrom"
                             bsDatepicker
                             [bsConfig]="bsConfig"
                             [minDate]="minDateFrom"
                             placeholder="Date From"
                             class="form-control">
                      <span class="fa fa-calendar-o"></span>
                    </div>
                  </div>
                </div>
                <div class="col-md-5 col-7">
                  <div class="field-wrap-outer">
                    <label>Departure Time*</label>
                    <div class="field-wrap time-picker-wrap">
                      <timepicker [(ngModel)]="form.timeFrom" [mousewheel]="true" [arrowkeys]="true"></timepicker>
                      <!--                        <input type="text" placeholder="" class="form-control">-->
                      <!--                        <span class="fa fa-clock-o"></span>-->
                    </div>
                  </div>
                </div>
              </div>
              <div class="row">
                <div class="col-md-7 col-5">
                  <div class="field-wrap-outer">
                    <label>Arrival*</label>
                    <div class="field-wrap">
                        <input type="text"
                               [(ngModel)]="form.dateTo"
                               bsDatepicker
                               [minDate]="form.dateFrom"
                               [bsConfig]="bsConfig"
                               placeholder="Date To"
                               class="form-control">
                        <span class="fa fa-calendar-o"></span>
                    </div>
                  </div>
                </div>
                <div class="col-md-5 col-7">
                  <div class="field-wrap-outer time-picker-wrap">
                    <label>Arrival Time*</label>
                    <div class="field-wrap">
                        <timepicker [(ngModel)]="form.timeTo" [mousewheel]="true" [arrowkeys]="true"></timepicker>

<!--                        <input type="text" placeholder="" class="form-control">-->
<!--                        <span class="fa fa-clock-o"></span>-->
                    </div>
                  </div>
                </div>
              </div>
            </div>
            <button type="submit" class="btn btn-success btn-block" (click)="submitIt()">Search</button>
        </div>
    </div>
  </div>
</div>


<script src="/assets/js/reservation.js" defer></script>
